\chapter{Conclusão e trabalhos futuros} 
\label{capitulo:conclusao}

A criação automatizada de mundos virtuais procedimentais é uma das formas existentes para auxiliar desenvolvedores de jogos a criarem ambientes mais ricos em detalhes, em menos tempo e com menos recursos humanos. Ao contrário da abordagem puramente não automatizada, no qual um {\it game designer} ou artista deve desenhar e modelar o mundo virtual por completo, na abordagem automatizada a adição de detalhes e modelagem de locais fica a cargo da ferramenta geradora. Dependendo do grau de realismo e da complexidade dos algoritmos de geração de conteúdo, uma ferramenta automatizada pode ser capaz de gerar um mundo virtual aceitável para diversos escopos de projeto.

Existem diversas pesquisas em relação à essa área, com abordagens diferentes e focadas em resultados diferenciados. Pode-se destacar nelas a preocupação em criar um mundo virtual de proporções infinitas sem que isso comprometa o desempenho da aplicação. Para atingir esses resultados, diversas técnicas são utilizadas, como aplicação de LOD~\cite{ulrich,pozzer} e {\it quadtree} para gerenciamento de malhas, além de diversos algoritmos procedimentais para a geração de conteúdo, como criação de relevo a partir de fractais, multi-fractais e/ou combinação de funções de ruído.

Este trabalhou apresentou o desenvolvimento de uma ferramenta capaz de gerar mundos virtuais pseudo-infinitos com diversificação de formas e relevos ao longo de sua extensão. Utilizando uma combinação de algoritmos e métodos de gerenciamento de conteúdo, a ferramenta é capaz de criar praias, ilhas/arquipélagos, baías e costas que imitam as paisagens encontradas na natureza. Além disso, a possibilidade de parametrizar cada um desses elementos dá ao desenvolvedor um controle maior sobre o resultado que será obtido.

Dentre as inovações apresentadas, estão a criação de um terreno virtual de vastas proporções com enfoque mais detalhado no que diz respeito à geração da costa. Fruto de um aprofundamento nas pesquisas já realizadas na área, o desenvolvimento da ferramenta foi focado em tratar de forma diferenciada a criação de conteúdo para os diversos elementos existentes (como continentes, relevo, etc). Uma das prioridades do trabalho foi a criação de bordas dos continentes, não a criação de conteúdo para o seu interior. A ferramenta é capaz de gerar continentes contendo falésias, praias e rochedos em suas extremidades. Em testes realizados, o tempo que um jogador levaria para chegar de uma ponta do mundo virtual até a outra num ambiente com o tamanho máximo suportado por um inteiro sem sinal, andando 100 pixel por segundo, seria de um 1 ano e 3 meses.

Partindo do que foi desenvolvido nesse trabalho, abaixo encontra-se uma lista com as possíveis continuações na área de pesquisa:

\begin{itemize}
 \item Melhoramento do algoritmo de quebra de linearidade da costa. Em certos locais, o espectro criado pela função de ruído não é grande ou granular o suficiente para criar uma costa não retilínea, o que faz a ferramenta produzir praias retas em determinados locais.
 
 \item Criação de outros tipos de conteúdo para a MM além dos já existentes (água, terra e costa). Pode-se criar tipos como cordilheiras, desertos, vulcões e florestas, que informariam à ferramenta para acentuar ou atenuar a frequência do ruído nessas áreas. A adição desses novos conteúdos pode seguir a mesma abordagem do gerador de costa, que é um passo intermediário entre o gerenciador de fatias e a MM. A diferença estaria no fato de que o novo gerador produziria conteúdo para ser aplicado em terra firme (como é o caso da criação de desertos). Para criar um deserto, por exemplo, basta que o novo gerador de conteúdo atenue de forma agressiva o relevo gerado para um determinado local; isso removeria o aspecto de relevo montanhoso e transformaria o local em um emaranhado de dunas de areia. A criação de cordilheiras segue o processo inverso, ou seja, o gerador de conteúdo aumentaria e/ou adicionaria um pouco mais de ruído aos valores de relevo produzidos para uma determinada área, o que resultaria em picos montanhosos. Uma evolução dessa ideia seria alterar a estrutura descrita na figura ~\ref{fig:planejamento_estrutura_basica} para a estrutura descrita na figura ~\ref{fig:planejamento_estrutura_basica_melhorada}, na qual o gerador de costas foi substituído por um {\it gerador de conteúdo}. Esse novo gerador teria a capacidade de analisar informações da MM e, então, gerar conteúdo utilizando um conjunto de classes internas (sendo uma delas o atual gerador de costas).

\begin{figure}
\centering
\resizebox{8cm}{!}{\includegraphics{figuras/planejamento_estrutura_basica_melhorada.png}}
\caption{Alteração na estrutura atual para permitir uma maior flexibilidade na geração de conteúdos para diferentes tipos de terreno.}
\label{fig:planejamento_estrutura_basica_melhorada}
\end{figure}
 
 \item Criação de um algoritmo de adição de conteúdo semelhantes àquele utilizado para criar arquipélagos, porém aplicado à porção de terra que está dentro do continente afim de criar áreas que descrevam cidades ou vilas. Em linhas gerais, a ideia é criar "ilhas" dentro dos continentes que teriam seu conteúdo preenchido por um algoritmo que gera cidades.
 
 \item Criação de rios; para alcançar esse objetivo, uma sugestão é a MM receber um novo tipo de terreno (rio) e o algoritmo de geração de relevo estar ciente que tais elementos da MM devem ser desenhado de um forma diferenciada. O grande desafio nessa abordagem é garantir a continuidade dos rios ao longo do mundo virtual tento em vista os problemas de resolução no mapeamento entre a MM e o mundo virtual.
 
 \item Portar os algoritmos mais pesados da aplicação para CUDA ~\cite{CUDA}, que é uma arquitetura de computação paralela de propósito genérico realizado diretamente na GPU da placa de vídeo. Utilizando CUDA, pode-se efetuar os cálculos matemáticos pesados diretamente na placa de vídeo, livrando a CPU dessa tarefa. Em testes realizados, constatou-se que o gargalo de processamento encontra-se na geração da fatia do mundo virtual visível pelo usuário, não na renderização dessa fatia. Embora o aumento da fatia aumente também a quantidade de vértices que serão desenhados na tela, o impacto maior ocorre nos algoritmos de geração de conteúdo, como criação da costa e do relevo. Quanto maior for a fatia, mais cálculos terão de ser realizados (funções de ruído, interpolações, iterações, etc) para que a nova porção do mundo seja mostrada na tela. A geração do relevo de cada pixel é um processo auto-contido, ou seja, um pixel não interfere no relevo do outro. Dessa forma pode-se utilizar o grande poder de processamento da GPU em relação a tarefas paralelizáveis para o calculo do conteúdo de cada pixel. Tento em vista a natureza paralelizável da geração de relevo, espera-se um aumento de desempenho linear.
 
 \item Portar a geração do mundo virtual para uma plataforma de 64 bits, o que permitiria que o mundo gerado tivesse o tamanho máximo de $2^{64}$ pixels de comprimento. Se esse objetivo for atingido, um jogador, andando a 100 pixels por segundo, levaria pouco mais de 5 bilhões de anos para percorrer o mundo virtual inteiro.
 
 \item Melhoramento no algoritmo de geração de praias para torná-lo apto a gerar a altura dos pixels da praia baseados em sua própria função de conteúdo, não com base na atenuação da altura de pixels vizinhos. Isso produziria praias com relevo diferenciado, o que tornaria as paisagens ainda mais convincentes para o usuário.
 
 \item Criar um gerenciador de parâmetros global para controlar a customização dos elementos da ferramenta. Atualmente a customização de cada elemento está distribuída ao longo das classes. A criação de um controle central reduziria o número de parâmetros e atributos de diversas classes, o que tornaria o código mais limpo e legível, além de tornar a parametrização da ferramenta mais fácil de ser implementada.
 \end{itemize}